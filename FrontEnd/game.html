<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blackjack Game</title>
  <style>
    .hand {
      border: 1px solid #ccc;
      padding: 10px;
      margin: 5px;
      display: inline-block;
      border-radius: 8px;
      background: #f5f5f5;
    }
  </style>
</head>
<body>
  <h1>Start Blackjack Game</h1>
  <form id="start-form">
    <label>Number of Hands (1–4):</label>
    <input type="number" id="num-hands" min="1" max="4" required /><br>

    <label>Starting Money ($10–$10000):</label>
    <input type="number" id="starting-money" min="10" max="10000" required /><br>

    <button type="submit">Start Game</button>
  </form>

  <div id="status"></div>
  <div id="game-board"></div>

  <script>
    document.getElementById("start-form").addEventListener("submit", async function(e) {
      e.preventDefault();

      const numHands = parseInt(document.getElementById("num-hands").value);
      const money = parseInt(document.getElementById("starting-money").value);

      const response = await fetch("/start", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ num_hands: numHands, money: money })
      });

      const data = await response.json();

      if (response.ok) {
        document.getElementById("status").innerText =
          `Game started with ${data.num_hands} hand(s) and $${data.money}`;
        setupGameBoard(numHands);
      } else {
        document.getElementById("status").innerText = `Error: ${data.error}`;
      }
    });

    function setupGameBoard(numHands) {
      const gameBoard = document.getElementById("game-board");
      gameBoard.innerHTML = "";
      for (let i = 1; i <= numHands; i++) {
        const handDiv = document.createElement("div");
        handDiv.className = "hand";
        handDiv.innerText = `Hand ${i}`;
        gameBoard.appendChild(handDiv);
      }
    }
  </script>
</body>
</html>